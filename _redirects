# Cloudflare Pages Redirects & Rewrites
# Language Structure: /en/ for English, /es/ for Spanish, /ar/ for Arabic
# All old English URLs redirect to /en/ with 301 (permanent)

# 0A) Strip .html first (prevents .html.html rewrites)
# These must be ABOVE the 200 rewrites below.
/en/:page.html               /en/:page               301
/en/projects/:slug.html      /en/projects/:slug      301
/en/hobbies/:slug.html       /en/hobbies/:slug       301
/en/hobbies-games/:slug.html /en/hobbies-games/:slug 301

# ===== 0. Clean URL Rewrites (MUST come first to avoid loops) =====
# These rewrite extensionless URLs to serve .html files (200 status = no redirect)

# Generic patterns (fallback for all pages)
/en/:page                           /en/:page.html                          200
/en/projects/:slug                  /en/projects/:slug.html                 200
/en/hobbies/:slug                   /en/hobbies/:slug.html                  200
/en/hobbies-games/:slug             /en/hobbies-games/:slug.html            200

# Explicit mini-game rewrites (for clarity and guaranteed routing)
# Explicit main page rewrites (for guaranteed routing)
/en/about                        /en/about.html                        200
/en/contact                      /en/contact.html                      200
/en/overview                     /en/overview.html                     200
/en/deep-dive                    /en/deep-dive.html                    200
/en/privacy                      /en/privacy.html                      200
/en/hobbies-games/2048              /en/hobbies-games/2048.html             200
/en/hobbies-games/snake             /en/hobbies-games/snake.html            200
/en/hobbies-games/space-invaders    /en/hobbies-games/space-invaders.html   200
/en/hobbies-games/block-breaker     /en/hobbies-games/block-breaker.html    200

# Explicit hobby rewrites (for the previously broken pages)
/en/hobbies/whispers                /en/hobbies/whispers.html               200
/en/hobbies/cooking                 /en/hobbies/cooking.html                200
/en/hobbies/car                     /en/hobbies/car.html                    200

# ===== 1. Language Default =====
/                            /en/                         302
/index.html                  /en/                         301!
/en/index.html               /en/                         301!
/es/index.html               /es/                         301!
/ar/index.html               /ar/                         301!

# ===== 2. Root English Pages → /en/ =====
/about.html                  /en/about                    301!
/about                       /en/about                    301!
/contact.html                /en/contact                  301!
/contact                     /en/contact                  301!
/overview.html               /en/overview                 301!
/overview                    /en/overview                 301!
/deep-dive.html              /en/deep-dive                301!
/deep-dive                   /en/deep-dive                301!
/privacy.html                /en/privacy                  301!
/privacy                     /en/privacy                  301!
/hobbies-games.html          /en/hobbies-games            301!
/hobbies-games               /en/hobbies-games            301!

# ===== 3. Clean URL Redirects for /en/ Pages =====
# Removed conflicting 301 redirects for main pages - using 200 rewrites instead
# /en/about.html               /en/about                    301!
# /en/contact.html             /en/contact                  301!
# /en/overview.html            /en/overview                 301!
# /en/deep-dive.html           /en/deep-dive                301!
# /en/privacy.html             /en/privacy                  301!
/en/hobbies-games.html       /en/hobbies-games            301!

# ===== 4. Projects: Root to /en/projects/ =====
/projects/                   /en/projects/                301!
/projects                    /en/projects/                301!
/projects.html               /en/projects/                301!
/projects/index.html         /en/projects/                301!

# Legacy Project Pages (project-*.html → /en/projects/*)
/project-competitive-strategy.html   /en/projects/competitive-strategy   301!
/project-competitive-strategy        /en/projects/competitive-strategy   301!
/project-conflict.html               /en/projects/competitive-strategy   301!
/project-conflict                    /en/projects/competitive-strategy   301!
/project-discipline.html             /en/projects/discipline             301!
/project-discipline                  /en/projects/discipline             301!
/project-documentation.html          /en/projects/documentation          301!
/project-documentation               /en/projects/documentation          301!
/project-logistics.html              /en/projects/logistics              301!
/project-logistics                   /en/projects/logistics              301!
/project-multilingual.html           /en/projects/multilingual           301!
/project-multilingual                /en/projects/multilingual           301!
/project-portfolio.html              /en/projects/portfolio              301!
/project-portfolio                   /en/projects/portfolio              301!

# Individual Project Pages (/projects/* → /en/projects/*)
/projects/competitive-strategy.html  /en/projects/competitive-strategy   301!
/projects/competitive-strategy       /en/projects/competitive-strategy   301!
/projects/discipline.html            /en/projects/discipline             301!
/projects/discipline                 /en/projects/discipline             301!
/projects/documentation.html         /en/projects/documentation          301!
/projects/documentation              /en/projects/documentation          301!
/projects/logistics.html             /en/projects/logistics              301!
/projects/logistics                  /en/projects/logistics              301!
/projects/multilingual.html          /en/projects/multilingual           301!
/projects/multilingual               /en/projects/multilingual           301!
/projects/portfolio.html             /en/projects/portfolio              301!
/projects/portfolio                  /en/projects/portfolio              301!

# Clean URL Redirects for /en/projects/*
/en/projects/index.html              /en/projects/                       301!
/en/projects/competitive-strategy.html  /en/projects/competitive-strategy   301!
/en/projects/discipline.html            /en/projects/discipline             301!
/en/projects/documentation.html         /en/projects/documentation          301!
/en/projects/logistics.html             /en/projects/logistics              301!
/en/projects/multilingual.html          /en/projects/multilingual           301!
/en/projects/portfolio.html             /en/projects/portfolio              301!

# ===== 5. Hobbies: Root to /en/hobbies/ =====
/hobbies/                    /en/hobbies/                 301!
/hobbies                     /en/hobbies/                 301!
/hobbies.html                /en/hobbies/                 301!
/hobbies/index.html          /en/hobbies/                 301!

# Legacy Hobby Pages (hobby-*.html → /en/hobbies/*)
/hobby-car.html              /en/hobbies/car              301!
/hobby-car                   /en/hobbies/car              301!
/hobby-cooking.html          /en/hobbies/cooking          301!
/hobby-cooking               /en/hobbies/cooking          301!
/hobby-gym.html              /en/hobbies/gym              301!
/hobby-gym                   /en/hobbies/gym              301!
/hobby-photography.html      /en/hobbies/photography      301!
/hobby-photography           /en/hobbies/photography      301!
/hobby-reading.html          /en/hobbies/reading          301!
/hobby-reading               /en/hobbies/reading          301!
/hobby-whispers.html         /en/hobbies/whispers         301!
/hobby-whispers              /en/hobbies/whispers         301!

# Individual Hobby Pages (/hobbies/* → /en/hobbies/*)
/hobbies/car.html            /en/hobbies/car              301!
/hobbies/car                 /en/hobbies/car              301!
/hobbies/cooking.html        /en/hobbies/cooking          301!
/hobbies/cooking             /en/hobbies/cooking          301!
/hobbies/gym.html            /en/hobbies/gym              301!
/hobbies/gym                 /en/hobbies/gym              301!
/hobbies/photography.html    /en/hobbies/photography      301!
/hobbies/photography         /en/hobbies/photography      301!
/hobbies/reading.html        /en/hobbies/reading          301!
/hobbies/reading             /en/hobbies/reading          301!
/hobbies/whispers.html       /en/hobbies/whispers         301!
/hobbies/whispers            /en/hobbies/whispers         301!

# Clean URL Redirects for /en/hobbies/*
/en/hobbies/index.html       /en/hobbies/                 301!
/en/hobbies/car.html         /en/hobbies/car              301!
/en/hobbies/cooking.html     /en/hobbies/cooking          301!
/en/hobbies/gym.html         /en/hobbies/gym              301!
/en/hobbies/photography.html /en/hobbies/photography      301!
/en/hobbies/reading.html     /en/hobbies/reading          301!
/en/hobbies/whispers.html    /en/hobbies/whispers         301!

# ===== 6. Hobbies-Games (Mini-Games) =====
# Root /hobbies-games/* → /en/hobbies-games/*
/hobbies-games/1024-moves.html            /en/hobbies-games/1024-moves            301!
/hobbies-games/1024-moves                 /en/hobbies-games/1024-moves            301!
/hobbies-games/2048.html                  /en/hobbies-games/2048                  301!
/hobbies-games/2048                       /en/hobbies-games/2048                  301!
/hobbies-games/back-attacker.html         /en/hobbies-games/back-attacker         301!
/hobbies-games/back-attacker              /en/hobbies-games/back-attacker         301!
/hobbies-games/block-breaker.html         /en/hobbies-games/block-breaker         301!
/hobbies-games/block-breaker              /en/hobbies-games/block-breaker         301!
/hobbies-games/nano-wirebot.html          /en/hobbies-games/nano-wirebot          301!
/hobbies-games/nano-wirebot               /en/hobbies-games/nano-wirebot          301!
/hobbies-games/off-the-line.html          /en/hobbies-games/off-the-line          301!
/hobbies-games/off-the-line               /en/hobbies-games/off-the-line          301!
/hobbies-games/oh-flip.html               /en/hobbies-games/oh-flip               301!
/hobbies-games/oh-flip                    /en/hobbies-games/oh-flip               301!
/hobbies-games/onoff.html                 /en/hobbies-games/onoff                 301!
/hobbies-games/onoff                      /en/hobbies-games/onoff                 301!
/hobbies-games/pizza-undelivery.html      /en/hobbies-games/pizza-undelivery      301!
/hobbies-games/pizza-undelivery           /en/hobbies-games/pizza-undelivery      301!
/hobbies-games/racer.html                 /en/hobbies-games/racer                 301!
/hobbies-games/racer                      /en/hobbies-games/racer                 301!
/hobbies-games/snake.html                 /en/hobbies-games/snake                 301!
/hobbies-games/snake                      /en/hobbies-games/snake                 301!
/hobbies-games/space-invaders.html        /en/hobbies-games/space-invaders        301!
/hobbies-games/space-invaders             /en/hobbies-games/space-invaders        301!
/hobbies-games/the-matr13k.html           /en/hobbies-games/the-matr13k           301!
/hobbies-games/the-matr13k                /en/hobbies-games/the-matr13k           301!
/hobbies-games/triangle-back-to-home.html /en/hobbies-games/triangle-back-to-home 301!
/hobbies-games/triangle-back-to-home      /en/hobbies-games/triangle-back-to-home 301!
/hobbies-games/xx142-b2exe.html           /en/hobbies-games/xx142-b2exe           301!
/hobbies-games/xx142-b2exe                /en/hobbies-games/xx142-b2exe           301!

# Clean URL Redirects for /en/hobbies-games/*
/en/hobbies-games/1024-moves.html            /en/hobbies-games/1024-moves            301!
/en/hobbies-games/2048.html                  /en/hobbies-games/2048                  301!
/en/hobbies-games/back-attacker.html         /en/hobbies-games/back-attacker         301!
/en/hobbies-games/block-breaker.html         /en/hobbies-games/block-breaker         301!
/en/hobbies-games/nano-wirebot.html          /en/hobbies-games/nano-wirebot          301!
/en/hobbies-games/off-the-line.html          /en/hobbies-games/off-the-line          301!
/en/hobbies-games/oh-flip.html               /en/hobbies-games/oh-flip               301!
/en/hobbies-games/onoff.html                 /en/hobbies-games/onoff                 301!
/en/hobbies-games/pizza-undelivery.html      /en/hobbies-games/pizza-undelivery      301!
/en/hobbies-games/racer.html                 /en/hobbies-games/racer                 301!
/en/hobbies-games/snake.html                 /en/hobbies-games/snake                 301!
/en/hobbies-games/space-invaders.html        /en/hobbies-games/space-invaders        301!
/en/hobbies-games/the-matr13k.html           /en/hobbies-games/the-matr13k           301!
/en/hobbies-games/triangle-back-to-home.html /en/hobbies-games/triangle-back-to-home 301!
/en/hobbies-games/xx142-b2exe.html           /en/hobbies-games/xx142-b2exe           301!

# ===== 7. Standalone Game Pages (Root → /en/hobbies-games/) =====
/2048.html                   /en/hobbies-games/2048           301!
/2048                        /en/hobbies-games/2048           301!
/snake.html                  /en/hobbies-games/snake          301!
/snake                       /en/hobbies-games/snake          301!
/invaders.html               /en/hobbies-games/space-invaders 301!
/invaders                    /en/hobbies-games/space-invaders 301!
/breaker.html                /en/hobbies-games/block-breaker  301!
/breaker                     /en/hobbies-games/block-breaker  301!

# ===== 8. 404 Fallback =====
/404.html                    404
