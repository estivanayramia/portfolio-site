@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================================================
   Custom Scrollbars for Chat Widget
   ========================================================================== */
#chat-messages::-webkit-scrollbar,
#chat-chips::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

#chat-messages::-webkit-scrollbar-track,
#chat-chips::-webkit-scrollbar-track {
    background: transparent;
}

#chat-messages::-webkit-scrollbar-thumb,
#chat-chips::-webkit-scrollbar-thumb {
    background-color: rgba(54, 32, 23, 0.2); /* chocolate/20 */
    border-radius: 3px;
}

[data-theme="dark"] #chat-messages::-webkit-scrollbar-thumb,
[data-theme="dark"] #chat-chips::-webkit-scrollbar-thumb {
    background-color: rgba(225, 212, 194, 0.2); /* beige/20 */
}

/* ==========================================================================
   Mobile-Only Responsive Helpers
   ========================================================================== */

@layer utilities {
    /* Mobile safe areas for notches */
    @media (max-width: 1023px) {
        .safe-top {
            padding-top: max(env(safe-area-inset-top), 1rem);
        }
        
        .safe-bottom {
            padding-bottom: max(env(safe-area-inset-bottom), 1rem);
        }
    }
    
    /* Touch targets: minimum 44x44px for accessibility */
    @media (max-width: 1023px) {
        button,
        a,
        [role="button"],
        input[type="submit"],
        input[type="button"] {
            min-height: 44px;
            min-width: 44px;
        }
        
        /* Prevent iOS zoom on input focus */
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="number"],
        input[type="search"],
        textarea,
        select {
            font-size: 16px !important;
        }
    }

    /* Performance: Content Visibility for below-the-fold content */
    @media (max-width: 768px) {
        main > section:nth-child(n+2) {
            content-visibility: auto;
            contain-intrinsic-size: 1px 800px;
        }
    }
}

/* ==========================================================================
   Accessibility: Reduce Motion
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}
