@font-face{
    font-family:'Inter';
    font-style:normal;
    font-weight:300 700;
    font-display: optional;
    src:url('/assets/fonts/inter/inter-latin.woff2') format('woff2');
    unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
    /* Only hide elements when JS is enabled - if JS fails, content stays visible */
    html.js .reveal,
    html.js [data-gsap] {
        opacity: 0;
        transform: translateY(12px);
        transition: opacity 500ms ease, transform 500ms ease;
        will-change: opacity, transform;
    }

    html.js .reveal.is-visible,
    html.js [data-gsap].is-visible {
        opacity: 1;
        transform: translateY(0);
    }

    @media (prefers-reduced-motion: reduce) {
        html.js .reveal,
        html.js [data-gsap] {
            transition: none;
            opacity: 1;
            transform: none;
        }
    }
}

@layer base {
    /* Global fix for fixed header overlap */
    body {
        padding-top: 7rem; /* Header (5rem) + Buffer (2rem) */
    }
    /* Reset main padding to avoid double spacing with utility classes like pt-24 */
    main {
        padding-top: 0 !important;
    }
}

/* ==========================================================================
   Custom Scrollbars for Chat Widget
   ========================================================================== */
#chat-messages::-webkit-scrollbar,
#chat-chips::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

#chat-messages::-webkit-scrollbar-track,
#chat-chips::-webkit-scrollbar-track {
    background: transparent;
}

#chat-messages::-webkit-scrollbar-thumb,
#chat-chips::-webkit-scrollbar-thumb {
    background-color: rgba(54, 32, 23, 0.2); /* chocolate/20 */
    border-radius: 3px;
}

[data-theme="dark"] #chat-messages::-webkit-scrollbar-thumb,
[data-theme="dark"] #chat-chips::-webkit-scrollbar-thumb {
    background-color: rgba(225, 212, 194, 0.2); /* beige/20 */
}

/* ==========================================================================
   Mobile-Only Responsive Helpers
   ========================================================================== */

@layer utilities {
    /* Mobile safe areas for notches */
    @media (max-width: 1023px) {
        .safe-top {
            padding-top: max(env(safe-area-inset-top), 1rem);
        }
        
        .safe-bottom {
            padding-bottom: max(env(safe-area-inset-bottom), 1rem);
        }
    }
    
    /* Touch targets: minimum 44x44px for accessibility */
    @media (max-width: 1023px) {
        button,
        a,
        [role="button"],
        input[type="submit"],
        input[type="button"] {
            min-height: 44px;
            min-width: 44px;
        }
        
        /* Prevent iOS zoom on input focus */
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="number"],
        input[type="search"],
        textarea,
        select {
            font-size: 16px !important;
        }
    }

    /* Performance: Content Visibility for below-the-fold content */
    @media (max-width: 768px) {
        main > section:nth-child(n+2) {
            content-visibility: auto;
            contain-intrinsic-size: 1px 800px;
        }
    }
}

/* ==========================================================================
   Accessibility: Reduce Motion
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

.number-404 {
    font-size: clamp(80px, 20vw, 200px);
    font-weight: 700;
    line-height: 1;
    background: linear-gradient(135deg, #212842 0%, #362017 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

[data-theme="dark"] .number-404 {
    background: linear-gradient(135deg, #e1d4c2 0%, #a89682 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.lightbox-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    z-index: 9998;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 2rem;
}

.lightbox-overlay.active {
    display: flex;
}

.lightbox-content {
    max-width: 90vw;
    max-height: 90vh;
    object-fit: contain;
}

.lightbox-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    color: white;
    font-size: 2rem;
    cursor: pointer;
    background: none;
    border: none;
    padding: 0.5rem;
}

.lightbox-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    color: white;
    font-size: 2.5rem;
    cursor: pointer;
    background: rgba(0, 0, 0, 0.5);
    border: none;
    padding: 1rem 1.5rem;
    border-radius: 0.5rem;
    transition: background 0.2s;
    display: block;
}

.lightbox-nav:hover {
    background: rgba(0, 0, 0, 0.8);
}

.lightbox-prev {
    left: 1rem;
}

.lightbox-next {
    right: 1rem;
}

.gallery-carousel {
    position: relative;
    overflow: hidden;
}

.carousel-track {
    display: flex;
    transition: transform 0.5s ease-out;
    gap: 1rem;
}

.carousel-slide {
    flex: 0 0 calc(50% - 0.5rem);
}

.carousel-slide--16-9 {
    aspect-ratio: 16/9;
}

.carousel-slide--1-1 {
    aspect-ratio: 1;
}

.carousel-slide--2-3 {
    aspect-ratio: 2/3;
}

@media (min-width: 768px) {
    .carousel-slide {
        flex: 0 0 calc(33.333% - 0.667rem);
    }
}

.carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
    background: rgba(33, 40, 66, 0.9);
    color: white;
    border: none;
    width: 3rem;
    height: 3rem;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s, transform 0.2s;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.carousel-btn:hover {
    background: rgba(33, 40, 66, 1);
    transform: translateY(-50%) scale(1.1);
}

.carousel-btn-prev {
    left: 0.5rem;
}

.carousel-btn-next {
    right: 0.5rem;
}

.carousel-dots {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 1rem;
}

.carousel-dot {
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 50%;
    background: rgba(33, 40, 66, 0.3);
    border: none;
    cursor: pointer;
    transition: background 0.2s, transform 0.2s;
}

.carousel-dot.active {
    background: rgba(33, 40, 66, 1);
    transform: scale(1.3);
}

.gallery-card {
    cursor: pointer;
    transition: transform 0.2s ease;
}

.gallery-card:hover {
    transform: scale(1.02);
}

.note-card {
    aspect-ratio: 1;
    cursor: pointer;
    transition: transform 0.2s ease;
}

.note-card:hover {
    transform: scale(1.02);
}
