<!DOCTYPE html>
<html><head><meta charset="utf-8"><script>document.documentElement.classList.add('js')</script></head>
  <head>

  </head>
<body style="background-color: #000000; margin: 0; overflow: hidden; height: 100vh; display: flex; justify-content: center; align-items: center;">
  <canvas id="gameCanvas" style="width: 100%; height: 100%; object-fit: contain;" width="1024" height="768"></canvas>
  <script>
    // Message listener for global controls
    window.addEventListener('message', (event) => {
      if (event.data.type === 'toggle-pause') {
        // Simulate P key press for pause
        const k = new KeyboardEvent('keydown', { key: 'p', code: 'KeyP', keyCode: 80, which: 80, bubbles: true });
        window.dispatchEvent(k);
        document.dispatchEvent(k);
        const canvas = document.getElementById('gameCanvas');
        if(canvas) canvas.dispatchEvent(k);
      }
    });

    // Audio Context Hijacking to support global mute
    const OriginalAudioContext = window.AudioContext || window.webkitAudioContext;
    if (OriginalAudioContext) {
        window.audioContextInstances = [];
        window.AudioContext = window.webkitAudioContext = function() {
            const ctx = new OriginalAudioContext();
            window.audioContextInstances.push(ctx);
            return ctx;
        }
        window.AudioContext.prototype = OriginalAudioContext.prototype;
    }

    window.addEventListener('message', (event) => {
        if (event.data.type === 'set-mute') {
            if (window.audioContextInstances) {
                window.audioContextInstances.forEach(ctx => {
                    if (event.data.muted) ctx.suspend();
                    else ctx.resume();
                });
            }
        }
    });
  </script>
      <script src="main.min.js"></script>
  


</body>
</html>

