(()=>{var he=Object.defineProperty;var a=(y,u)=>he(y,"name",{value:u,configurable:!0});var ye=(y,u)=>()=>(u||y((u={exports:{}}).exports,u),u.exports);var we=ye(()=>{(function(){if(window.__SavonieTelemetry)return;const y={events:1e3,issues:200,breadcrumbs:100},u={msg:200,stack:2e3,str:500,objBytes:8e3,objDepth:4,objKeys:60},M=/(token|auth|password|secret|session|cookie|credit|card|ssn|cvv|email)/i;function I(e){try{if(!e||typeof e!="object")return null;const t=e instanceof Element?e:null;if(!t)return null;const n=(t.tagName||"").toLowerCase(),s=t.id?`#${i(t.id,80)}`:"",r=t.classList&&t.classList.length?`.${Array.from(t.classList).slice(0,4).map(c=>i(c,40)).join(".")}`:"",l=`${n}${s}${r}`;return l?i(l,180):null}catch(t){return null}}a(I,"getDomNodeLabel");function m(e,t=3,n=50,s=new WeakSet,r=0){try{if(e==null)return e;const l=typeof e;if(l==="string"){const g=String(e);if(g&&g.length<=20&&g[0]==="["&&g[g.length-1]==="]"){const w=g.slice(1,-1);if(w==="Circular"||w==="Object"||w==="Array"||w==="Unserializable")return}return i(g,u.str)}if(l==="number"||l==="boolean")return e;if(l==="function")return null;if(e instanceof Error)return{name:i(e.name,80),message:i(e.message,u.msg),stack:i(e.stack||"",u.stack)};if(typeof Node!="undefined"&&e instanceof Node)return I(e)||(e.nodeName?String(e.nodeName):"Node");if(typeof Event!="undefined"&&e instanceof Event)return e&&typeof e.type=="string"?`[Event ${i(e.type,80)}]`:"Event";if(l!=="object")return i(e,u.str);if(r>=t||s.has(e))return;if(s.add(e),Array.isArray(e)){const g=[];for(let w=0;w<Math.min(e.length,50);w++){const q=m(e[w],t,n,s,r+1);q!==void 0&&g.push(q)}return g}const c=e&&typeof e.type=="string"?i(e.type,80):null,f=e&&e.target?I(e.target):null;if(c&&("target"in e||"timeStamp"in e))return{type:c,target:f||void 0,timeStamp:typeof e.timeStamp=="number"?e.timeStamp:void 0};const S={},T=Object.keys(e).slice(0,n);for(const g of T){if(M.test(g)){S[g]="[Redacted]";continue}const w=m(e[g],t,n,s,r+1);w!==void 0&&(S[g]=w)}return S}catch(l){return null}}a(m,"sanitizeForJSON");function b(){return Date.now()}a(b,"now");function i(e,t){if(e==null)return"";const n=String(e);return n.length<=t?n:n.slice(0,t)+"\u2026"}a(i,"clampStr");function A(e,t=u.objDepth){try{const n=m(e,t,u.objKeys);return n===void 0?null:n}catch(n){return null}}a(A,"safeStringify");function Q(e){if(!e||typeof e!="object")return e;const t={};for(const[n,s]of Object.entries(e))/authorization/i.test(n)||M.test(n)?t[n]="[Redacted]":t[n]=i(s,u.str);return t}a(Q,"redactHeaders");function p(e){try{const t=new URL(e,window.location.href);return t.hash="",t.search="",t.toString()}catch(t){return i(e,300)}}a(p,"normalizeUrl");function X(e){let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t^e.charCodeAt(n);return(t>>>0).toString(16)}a(X,"hashStr");function P(){try{if(navigator.userAgentData&&typeof navigator.userAgentData.mobile=="boolean")return navigator.userAgentData.mobile}catch(e){}return window.matchMedia&&window.matchMedia("(max-width: 767px)").matches}a(P,"isMobile");function F(){const e=document.querySelector('meta[name="build-version"]'),t=e&&e.getAttribute("content"),n=(()=>{try{return localStorage.getItem("siteVersion")}catch(s){return null}})();return t||n||"dev"}a(F,"getBuildVersion");function j(e,t,n){e.push(t),e.length>n&&e.splice(0,e.length-n)}a(j,"ringPush");function x(e){try{if(!(e instanceof Element))return null;const t=(e.tagName||"").toLowerCase(),n=e.id?`#${i(e.id,80)}`:"",s=e.classList&&e.classList.length?`.${Array.from(e.classList).slice(0,4).map(r=>i(r,40)).join(".")}`:"";return i(`${t}${n}${s}`,180)}catch(t){return null}}a(x,"describeElement");const L=new Set,o={enabled:!1,upload:!1,mode:"user",sessionOnly:!1,buildVersion:F(),lastUploadAt:null,events:[],issues:[],breadcrumbs:[],perf:{cls:null,lcp:null,inp:null,longTasks:0,lcpAttribution:null,clsAttribution:null,inpAttribution:null,longTaskMax:null},installed:{console:!1,fetch:!1,xhr:!1,perf:!1,errors:!1,breadcrumbs:!1}};function R(){return m(O(),4)}a(R,"getCtx");function O(){return{url:window.location.href,referrer:document.referrer||"",buildVersion:o.buildVersion,viewport:{w:window.innerWidth,h:window.innerHeight},dpr:window.devicePixelRatio,language:navigator.language,platform:navigator.platform,userAgent:navigator.userAgent,connection:navigator.connection?{effectiveType:navigator.connection.effectiveType,rtt:navigator.connection.rtt,downlink:navigator.connection.downlink,saveData:navigator.connection.saveData}:null,memory:performance&&performance.memory?{jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize}:null}}a(O,"getCtxRaw");function N(e){for(const t of L)try{t(e,V.getState())}catch(n){}}a(N,"notify");function d(e){const t=e&&e.ctx?e.ctx:O(),n={t:typeof e.t=="number"?e.t:b(),kind:i(e.kind||"debug",40),level:e.level==null?null:i(e.level,10),msg:i(e.msg||"",u.msg),data:e&&e.kind==="breadcrumb"?m(e.data):A(e.data),ctx:e&&e.kind==="breadcrumb"?m(t,4):A(t)};return j(o.events,n,y.events),n.kind==="breadcrumb"&&j(o.breadcrumbs,n,y.breadcrumbs),N(n),n}a(d,"push");function G(e){const t=e.url?p(e.url):p(window.location.href),n=e.stack?i(e.stack,u.stack):"",s=n?X(n):"";return[e.kind||"issue",e.msg||"",t,s].join("|")}a(G,"computeIssueSignature");function h(e){const t=b(),n=G(e),s=o.issues.find(c=>c.signature===n);if(s&&t-s.lastSeen<=6e4)return s.count+=1,s.lastSeen=t,N({t,kind:"debug",level:"info",msg:"issue.deduped",data:{signature:n}}),s;const r=o.breadcrumbs.slice(-20),l={signature:n,count:1,firstSeen:t,lastSeen:t,kind:i(e.kind||"issue",40),msg:i(e.msg||"issue",u.msg),level:e.level==null?null:i(e.level,10),url:p(e.url||window.location.href),data:m(e.data,4),stack:e.stack?i(e.stack,u.stack):null,breadcrumbs:r.map(c=>({t:c&&typeof c.t=="number"?c.t:b(),kind:i(c&&c.kind?c.kind:"breadcrumb",40),level:c&&c.level!=null?i(c.level,10):null,msg:i(c&&c.msg?c.msg:"",u.msg),data:m(c?c.data:null,3)}))};return j(o.issues,l,y.issues),N({t,kind:"debug",level:"warn",msg:"issue.created",data:{signature:n}}),K(),l}a(h,"recordIssue");function Y(){try{const e=sessionStorage.getItem("site_diagnostics_state");if(!e)return;const t=JSON.parse(e);t&&typeof t=="object"&&(Array.isArray(t.events)&&(o.events=t.events.slice(-200)),Array.isArray(t.issues)&&(o.issues=t.issues.slice(-y.issues)),Array.isArray(t.breadcrumbs)&&(o.breadcrumbs=t.breadcrumbs.slice(-y.breadcrumbs)),t.perf&&(o.perf=Object.assign(o.perf,t.perf)))}catch(e){}}a(Y,"hydrate");function U(){try{const e={events:o.events.slice(-200),issues:o.issues.slice(-y.issues),breadcrumbs:o.breadcrumbs.slice(-y.breadcrumbs),perf:o.perf};sessionStorage.setItem("site_diagnostics_state",JSON.stringify(e))}catch(e){}}a(U,"persist");let $=null,C=0;function ke(){return m({buildVersion:o.buildVersion,ctx:R(),issues:o.issues.slice(-50).map(e=>m({signature:e.signature,count:e.count,firstSeen:e.firstSeen,lastSeen:e.lastSeen,kind:e.kind,msg:e.msg,level:e.level,url:e.url,stack:e.stack,data:e.data,breadcrumbs:e.breadcrumbs},4))},4)}a(ke,"makeUploadPayload");function K(){!o.enabled||!o.upload||b()-C<15e3||$||($=setTimeout(()=>{$=null,D(!1)},3e3))}a(K,"scheduleUpload");function Z(e){try{const t=String(e&&e.kind?e.kind:"").toLowerCase();return String(e&&e.msg?e.msg:"").toLowerCase().includes("unhandledrejection")?"unhandled_rejection":t==="network"?"network_error":t==="resource"?"resource_error":t==="perf"?"performance_issue":"javascript_error"}catch(t){return"javascript_error"}}a(Z,"mapIssueType");function ee(e){try{const t=String(e&&e.msg?e.msg:""),n=e&&e.data&&typeof e.data=="object"?e.data:{},s=m(n,3)||{};let r="info";t.startsWith("nav.")?r="navigation":t.startsWith("console.")?r="console":t.startsWith("network.")?r="network":t.startsWith("ui.")?r="user":t.startsWith("doc.")&&(r="navigation");const l=s&&(s.selector||s.tag||s.id||s.cls)?i(s.selector||`${s.tag||""}${s.id?`#${s.id}`:""}${s.cls?`.${String(s.cls).split(/\s+/).filter(Boolean).slice(0,4).join(".")}`:""}`,200):"",c=s&&s.url?p(String(s.url)):"",f=i(s&&s.text?String(s.text):s&&s.key?`${t} ${s.key}`:t,240);return{type:r,timestamp:typeof e.t=="number"?e.t:b(),message:f,selector:l||void 0,url:c||void 0}}catch(t){return null}}a(ee,"breadcrumbToDashboardCrumb");function te(e){const t=R(),n=(e&&Array.isArray(e.breadcrumbs)?e.breadcrumbs:[]).slice(-20).map(ee).filter(Boolean);return{type:Z(e),message:i(e&&e.msg?e.msg:"issue",1e3),filename:null,line:null,col:null,stack:e&&e.stack?i(e.stack,u.stack):null,url:i(e&&e.url?e.url:p(window.location.href),500),viewport:(()=>{try{return JSON.stringify(t&&t.viewport?t.viewport:{w:window.innerWidth,h:window.innerHeight})}catch(s){return null}})(),version:o.buildVersion,breadcrumbs:(()=>{try{return JSON.stringify(n)}catch(s){return null}})()}}a(te,"makeWorkerErrorReport");let _=null,v=0;const H="site_diagnostics_upload_queue",E=25;function J(){try{const e=localStorage.getItem(H);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.slice(0,E):[]}catch(e){return[]}}a(J,"readUploadQueue");function z(e){try{const t=Array.isArray(e)?e.slice(0,E):[];localStorage.setItem(H,JSON.stringify(t))}catch(t){}}a(z,"writeUploadQueue");function W(e){try{if(!e||typeof e!="object")return;const t=J(),n=e.sig||"",s=typeof e.seen=="number"?e.seen:0;if(t.some(l=>l&&l.sig===n&&l.seen===s))return;t.push({json:e.json,sig:n,seen:s,tries:0,t:b()}),t.length>E&&t.splice(0,t.length-E),z(t)}catch(t){}}a(W,"enqueueUploadPayload");async function B(){if(!o.enabled||!o.upload)return;let e=J();if(!e.length)return;const t="/api/error-report",n={"Content-Type":"application/json"},s=[];for(const r of e){if(!r||typeof r.json!="string"||!r.json)continue;try{const c=await fetch(t,{method:"POST",headers:n,body:r.json,keepalive:!1});if(c&&c.ok){o.lastUploadAt=b(),r.sig&&(_=r.sig),typeof r.seen=="number"&&(v=Math.max(v,r.seen));continue}}catch(c){}const l=(Number(r.tries)||0)+1;l<5&&s.push({...r,tries:l})}z(s)}a(B,"drainUploadQueue");function ne(){try{if(!o.issues.length)return null;const e=o.issues.slice().sort((t,n)=>(n.lastSeen||0)-(t.lastSeen||0));for(const t of e)if(t&&typeof t.lastSeen=="number"&&(t.lastSeen>v||t.signature&&t.signature!==_&&t.lastSeen===v))return t;return null}catch(e){return null}}a(ne,"pickIssueToUpload");async function D(e){if(!o.enabled||!o.upload)return;C=b();const t=ne();if(!t)return;const n=te(t);let s="";try{s=JSON.stringify(n)}catch(c){return}s.length>64*1024&&(s=s.slice(0,64*1024));const r="/api/error-report",l={"Content-Type":"application/json"};try{if(e&&navigator.sendBeacon){navigator.sendBeacon(r,new Blob([s],{type:"application/json"}))?(o.lastUploadAt=b(),_=t.signature||null,v=t.lastSeen||v):W({json:s,sig:t.signature||"",seen:t.lastSeen||0});return}(await fetch(r,{method:"POST",headers:l,body:s,keepalive:!!e})).ok?(o.lastUploadAt=b(),_=t.signature||null,v=t.lastSeen||v,B()):W({json:s,sig:t.signature||"",seen:t.lastSeen||0})}catch(c){W({json:s,sig:t.signature||"",seen:t.lastSeen||0})}}a(D,"uploadIssues");function re(){if(o.installed.errors)return;o.installed.errors=!0;const e=a(t=>{const n=String(t||"");if(!n)return!1;if(/^(chrome-extension|moz-extension|safari-extension|ms-browser-extension):/i.test(n)||/(^|\/)(favicon\.ico|favicon-\d+x\d+\.(png|webp))($|\?)/i.test(n)||/\/api\/browser_extension\//i.test(n)||/browser_extension\//i.test(n))return!0;try{const s=new URL(n,window.location.href),r=String(s.hostname||"").toLowerCase();if(/(^|\.)googletagmanager\.com$/.test(r)||/(^|\.)google-analytics\.com$/.test(r)||/(^|\.)doubleclick\.net$/.test(r)||/(^|\.)clarity\.ms$/.test(r)||/(^|\.)bat\.bing\.com$/.test(r)||/(^|\.)facebook\.net$/.test(r)||/(^|\.)connect\.facebook\.net$/.test(r))return!0}catch(s){}return!1},"isIgnoredResourceUrl");window.addEventListener("error",t=>{const n=t.target;if(n&&(n.src||n.href)&&!(t instanceof ErrorEvent)){const f=n.src||n.href;if(e(f))return;d({kind:"resource",level:"error",msg:"resource.load.error",data:{url:p(f),tag:n.tagName}}),h({kind:"resource",level:"error",msg:"resource.load.error",url:f,data:{tag:n.tagName}});return}const r=t.error,l=t.message||r&&r.message||"Script error",c=r&&r.stack?String(r.stack):"";d({kind:"error",level:"error",msg:"error.window",data:{message:i(l,u.msg),filename:t.filename,line:t.lineno,col:t.colno,stack:i(c,u.stack)}}),h({kind:"error",level:"error",msg:"error.window",url:t.filename||window.location.href,stack:c,data:{message:l,line:t.lineno,col:t.colno}})},!0),window.addEventListener("unhandledrejection",t=>{const n=t.reason,s=n instanceof Error?n:new Error(typeof n=="string"?n:"Unhandled rejection");d({kind:"error",level:"error",msg:"error.unhandledrejection",data:{message:i(s.message,u.msg),stack:i(s.stack||"",u.stack)}}),h({kind:"error",level:"error",msg:"error.unhandledrejection",stack:s.stack||"",data:{message:s.message}})})}a(re,"installErrorHooks");function se(){if(o.installed.breadcrumbs)return;o.installed.breadcrumbs=!0,d({kind:"breadcrumb",level:"info",msg:"nav.load",data:{url:p(window.location.href)}});try{const t=history.pushState,n=history.replaceState;t&&!t.__savonieWrapped&&(history.pushState=function(){try{const s=(()=>{try{const r=arguments&&arguments.length>=3?arguments[2]:null;return r==null?null:p(String(r))}catch(r){return null}})();d({kind:"breadcrumb",level:"info",msg:"nav.pushState",data:{url:s||p(window.location.href)}})}catch(s){}return t.apply(this,arguments)},history.pushState.__savonieWrapped=!0),n&&!n.__savonieWrapped&&(history.replaceState=function(){try{const s=(()=>{try{const r=arguments&&arguments.length>=3?arguments[2]:null;return r==null?null:p(String(r))}catch(r){return null}})();d({kind:"breadcrumb",level:"info",msg:"nav.replaceState",data:{url:s||p(window.location.href)}})}catch(s){}return n.apply(this,arguments)},history.replaceState.__savonieWrapped=!0)}catch(t){}window.addEventListener("popstate",()=>{d({kind:"breadcrumb",level:"info",msg:"nav.popstate",data:{url:p(window.location.href)}})}),window.addEventListener("hashchange",()=>{d({kind:"breadcrumb",level:"info",msg:"nav.hashchange",data:{url:p(window.location.href)}})}),document.addEventListener("click",t=>{const n=t.target;if(!(n instanceof Element))return;const s={tag:n.tagName,id:n.id?i(n.id,80):"",cls:n.className?i(String(n.className),120):""};d({kind:"breadcrumb",level:"info",msg:"ui.click",data:s})},{capture:!0}),document.addEventListener("focusin",t=>{const n=t.target;n instanceof Element&&d({kind:"breadcrumb",level:"info",msg:"ui.focus",data:{tag:n.tagName,id:n.id||""}})}),document.addEventListener("keydown",t=>{const n=t.key;["Enter","Escape","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n)&&d({kind:"breadcrumb",level:"info",msg:"ui.key",data:{key:n}})},{capture:!0}),document.addEventListener("visibilitychange",()=>{d({kind:"breadcrumb",level:"info",msg:"doc.visibility",data:{state:document.visibilityState}})});let e=0;window.addEventListener("scroll",()=>{const t=b();t-e<1e3||(e=t,d({kind:"breadcrumb",level:"info",msg:"ui.scroll",data:{y:window.scrollY}}))},{passive:!0})}a(se,"installBreadcrumbs");function oe(){if(o.installed.console)return;o.installed.console=!0;const e=["log","info","warn","error"];for(const t of e){const n=console[t];if(!n||n.__savonieWrapped)continue;const s=a(function(...r){try{const l=t==="log"?"info":t,c=r.map(k=>typeof k=="string"?k:JSON.stringify(m(k,2))).join(" "),f=o.mode==="dev"||t==="warn"||t==="error";o.enabled&&f&&d({kind:"breadcrumb",level:l,msg:`console.${t}`,data:{text:i(c,u.msg)}})}catch(l){}return n.apply(console,r)},"wrapped");s.__savonieWrapped=!0,console[t]=s}}a(oe,"installConsoleWrap");function ae(){if(o.installed.fetch)return;o.installed.fetch=!0;const e=window.fetch;if(!e||e.__savonieWrapped)return;const t=a(async function(n,s){const r=b(),l=s&&s.method||n&&n.method||"GET",c=typeof n=="string"?n:n&&n.url?n.url:"";try{const f=await e(n,s),k=b()-r,S=f.status,T={method:l,url:p(c),status:S,dur:k};o.enabled&&d({kind:"network",level:S>=400?"error":"info",msg:"network.fetch",data:T});const g=P()?3e3:2e3;return o.enabled&&(S>=400||k>g)&&h({kind:"network",level:"error",msg:S>=400?"network.http_error":"network.slow",url:c,data:T}),f}catch(f){const k=b()-r;throw o.enabled&&(d({kind:"network",level:"error",msg:"network.fetch.throw",data:{method:l,url:p(c),dur:k}}),h({kind:"network",level:"error",msg:"network.fetch.throw",url:c,stack:f&&f.stack?String(f.stack):"",data:{method:l,url:p(c),dur:k}})),f}},"wrapped");t.__savonieWrapped=!0,window.fetch=t}a(ae,"installFetchWrap");function ie(){if(o.installed.xhr)return;o.installed.xhr=!0;const e=window.XMLHttpRequest;if(!e)return;const t=e.prototype.open,n=e.prototype.send;t.__savonieWrapped||(e.prototype.open=function(s,r,l,c,f){return this.__savonieMeta={method:s||"GET",url:r||"",start:0},t.apply(this,arguments)},e.prototype.open.__savonieWrapped=!0),n.__savonieWrapped||(e.prototype.send=function(){const s=this.__savonieMeta||{method:"GET",url:""};s.start=b();const r=a(()=>{try{const l=b()-s.start,c=this.status||0;o.enabled&&d({kind:"network",level:c>=400?"error":"info",msg:"network.xhr",data:{method:s.method,url:p(s.url),status:c,dur:l}});const f=P()?3e3:2e3;o.enabled&&(c>=400||l>f)&&h({kind:"network",level:"error",msg:c>=400?"network.http_error":"network.slow",url:s.url,data:{method:s.method,url:p(s.url),status:c,dur:l}})}catch(l){}},"done");return this.addEventListener("loadend",r),n.apply(this,arguments)},e.prototype.send.__savonieWrapped=!0)}a(ie,"installXHRWrap");function le(){if(!o.installed.perf){if(o.installed.perf=!0,window.PerformanceObserver)try{new PerformanceObserver(t=>{for(const n of t.getEntries())if(o.enabled&&(o.perf.longTasks+=1,o.perf.longTaskMax=Math.max(o.perf.longTaskMax||0,n.duration||0),n.duration>200)){const s=(()=>{try{const r=Array.isArray(n.attribution)?n.attribution[0]:null;return r?A({containerType:r.containerType,containerName:r.containerName,containerSrc:r.containerSrc,name:r.name,entryType:r.entryType,startTime:r.startTime,duration:r.duration}):null}catch(r){return null}})();d({kind:"perf",level:"warn",msg:"perf.longtask",data:{dur:n.duration,attribution:s}}),h({kind:"perf",level:"warn",msg:"perf.longtask",data:{dur:n.duration,attribution:s}})}}).observe({entryTypes:["longtask"]})}catch(e){}if(window.PerformanceObserver)try{let e=0;new PerformanceObserver(n=>{for(const s of n.getEntries()){s.hadRecentInput||(e+=s.value);try{const r=s.sources&&s.sources.length?s.sources[0]:null,l=r&&r.node?r.node:null;l&&(o.perf.clsAttribution={selector:x(l)||null,value:r.value})}catch(r){}}o.perf.cls=e,o.enabled&&e>.1&&(d({kind:"perf",level:"warn",msg:"perf.cls",data:{cls:e,attribution:o.perf.clsAttribution}}),h({kind:"perf",level:"warn",msg:"perf.cls",data:{cls:e,attribution:o.perf.clsAttribution}}))}).observe({type:"layout-shift",buffered:!0})}catch(e){}if(window.PerformanceObserver)try{let e=null;new PerformanceObserver(n=>{const s=n.getEntries(),r=s[s.length-1];if(r){e=r.startTime,o.perf.lcp=e;try{o.perf.lcpAttribution={selector:x(r.element)||null,url:r.url?p(String(r.url)):null}}catch(l){}o.enabled&&e>2500&&(d({kind:"perf",level:"warn",msg:"perf.lcp",data:{lcp:e,attribution:o.perf.lcpAttribution}}),h({kind:"perf",level:"warn",msg:"perf.lcp",data:{lcp:e,attribution:o.perf.lcpAttribution}}))}}).observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}if(window.PerformanceObserver)try{let e=null;new PerformanceObserver(n=>{const s=n.getEntries();for(const r of s)if(typeof r.duration=="number"){e=Math.max(e||0,r.duration);try{const l=r.target||null;o.perf.inpAttribution={selector:x(l)||null,type:r.name||null}}catch(l){}}e!=null&&(o.perf.inp=e,o.enabled&&e>200&&(d({kind:"perf",level:"warn",msg:"perf.inp",data:{inp:e,attribution:o.perf.inpAttribution}}),h({kind:"perf",level:"warn",msg:"perf.inp",data:{inp:e,attribution:o.perf.inpAttribution}})))}).observe({type:"event",buffered:!0,durationThreshold:40})}catch(e){}}}a(le,"installPerf");function ce(e){o.enabled||(o.enabled=!0,o.upload=!!(e&&e.upload),o.mode=e&&e.mode==="dev"?"dev":"user",re(),se(),oe(),ae(),ie(),le(),B(),U(),window.addEventListener("pagehide",()=>{U(),D(!0)}),d({kind:"debug",level:"info",msg:"telemetry.enabled",data:{upload:o.upload,mode:o.mode}}))}a(ce,"enable");function ue(){o.enabled=!1,d({kind:"debug",level:"info",msg:"telemetry.disabled",data:{}}),U()}a(ue,"disable");function de(){o.events=[],o.issues=[],o.breadcrumbs=[],o.perf={cls:null,lcp:null,inp:null,longTasks:0,lcpAttribution:null,clsAttribution:null,inpAttribution:null,longTaskMax:null};try{sessionStorage.removeItem("site_diagnostics_state")}catch(e){}d({kind:"debug",level:"info",msg:"telemetry.cleared",data:{}})}a(de,"clear");function fe(e){const t=!!(e&&e.includeAll),n=a(r=>{try{return!r||typeof r!="object"?null:{t:typeof r.t=="number"?r.t:null,kind:r.kind?i(r.kind,40):null,level:r.level==null?null:i(r.level,10),msg:i(r.msg||"",u.msg),data:m(r.data,3),ctx:m(r.ctx,3)}}catch(l){return null}},"sanitizeEntry"),s=a(r=>{try{return!r||typeof r!="object"?null:{signature:r.signature?i(r.signature,500):null,count:typeof r.count=="number"?r.count:1,firstSeen:typeof r.firstSeen=="number"?r.firstSeen:null,lastSeen:typeof r.lastSeen=="number"?r.lastSeen:null,kind:r.kind?i(r.kind,40):null,msg:i(r.msg||"issue",u.msg),level:r.level==null?null:i(r.level,10),url:r.url?i(r.url,500):null,data:m(r.data,4),stack:r.stack?i(r.stack,u.stack):null,breadcrumbs:Array.isArray(r.breadcrumbs)?r.breadcrumbs.map(n).filter(Boolean):[]}}catch(l){return null}},"sanitizeIssue");return{state:{enabled:!!o.enabled,upload:!!o.upload,mode:o.mode,buildVersion:o.buildVersion,lastUploadAt:o.lastUploadAt},ctx:m(O(),4),perf:m(o.perf,4),issues:o.issues.map(s).filter(Boolean),breadcrumbs:o.breadcrumbs.map(n).filter(Boolean),events:(t?o.events:o.events.slice(-200)).map(n).filter(Boolean)}}a(fe,"exportJSON");function pe(e){L.add(e)}a(pe,"subscribe");function me(e){L.delete(e)}a(me,"unsubscribe");function ge(){return o}a(ge,"getState");function be({sessionOnly:e}){o.sessionOnly=!!e}a(be,"setConsentFlags"),Y();const V={enable:ce,disable:ue,push:d,subscribe:pe,unsubscribe:me,export:fe,clear:de,getState:ge,recordIssue:h,setConsentFlags:be,sanitizeForJSON:m,_internal:{redactHeaders:Q,safeStringify:A,clampStr:i,normalizeUrl:p,recordIssue:h}};window.__SavonieTelemetry=V})()});we();})();
